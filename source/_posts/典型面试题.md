---
title: 典型面试题
date: 2021-11-09 03:18:23.837
updated: 2021-11-09 03:36:09.751
url: /?p=19
categories: 
- 面试题
tags: 
---

## Question: 

描述在浏览器输入`www.baidu.com`后执行的全部过程

## Answer:

1. 客户端浏览器首先获取本地host文件获取IP,如果哦获取不到再通过DNS解析道`www.baidu.com`的IP地址220.181.27.48, 痛殴这个IP地址找到客户端到服务端的路径
2. 客户端浏览器发起一个HTTP会话到220.181.27.48, 通过TCP握手建立连接,然后通过TCP进行封装数据包,输入到网络层
3. 在客户端的传输层, 把HTTP会话请求分成报文段, 通过源和目的端口,如服务器使用80端口监听客户端的请求,客户端有系统随机选择一个端口,如5000,与服务器进行交换,服务器把相应的请求返回给客户端的5000端口.
4. 然后使用IP层的IP地址查找目的段. 客户端的网络层不用关心应用层或者传输层的东西,主要做的是通过查找路由表确定如何到达服务端
5. 期间可能经过多个路由器,这些都是路由器来完成的工作,无非就是通过查找路由表来确定通过哪个路径到达服务器
6. 客户端的链路层,包通过链路层发送到路由器,通过邻居协议查找给定IP地址的Mac地址
7. 然后发送ARP请求查找目的地址,如果得到回应之后就可以使用ARP的请求应答交换的IP数据包现在就可以传输了,然后发送IP数据包到达服务器的地址.
8. 把服务器处理请求响应首页数据反向传输, 传输到客户端以后 , TCP连接释放,浏览器将首页文件进行解析,并将Web页显示给用户.